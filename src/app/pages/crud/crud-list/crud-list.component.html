<dbs-page-container pageName="CRUD List">
  <dbs-table-container name="Customers" [isLoadingResults]="isLoadingResults">
    <header>
      <button class="create" type="button" mat-mini-fab color="primary">
        <mat-icon>add</mat-icon>
      </button>
    </header>
    <mat-table #table [dataSource]="dataSource" matSort>

      <!-- Number Column -->
      <ng-container matColumnDef="number">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Number </mat-header-cell>
        <mat-cell *matCellDef="let data"> {{data.number}} </mat-cell>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
        <mat-cell *matCellDef="let data"> {{data.title}} </mat-cell>
      </ng-container>

      <!-- State Column -->
      <ng-container matColumnDef="state">
        <mat-header-cell *matHeaderCellDef mat-sort-header> State </mat-header-cell>
        <mat-cell *matCellDef="let data"> {{data.state}} </mat-cell>
      </ng-container>

      <!-- Created At Column -->
      <ng-container matColumnDef="created_at">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Created At </mat-header-cell>
        <mat-cell *matCellDef="let data"> {{data.created_at | date}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell class="actions-cell" *matHeaderCellDef></mat-header-cell>
        <mat-cell class="actions-cell" *matCellDef="let row">
          <button type="button" mat-icon-button [matMenuTriggerFor]="actionsMenu" (click)="$event.stopPropagation()">
            <mat-icon>more_horiz</mat-icon>
          </button>

          <mat-menu #actionsMenu="matMenu" yPosition="below" xPosition="before">
            <button (click)="update(row)" mat-menu-item>
              <span>Modify</span>
            </button>
            <button (click)="delete(row)" mat-menu-item>
              <span>Delete</span>
            </button>
          </mat-menu>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
    <footer>
      <mat-paginator #paginator [pageSize]="pagingOptions.pageSize" [pageSizeOptions]="pagingOptions.pageSizeOptions" [showFirstLastButtons]="pagingOptions.showFirstLastButtons">
      </mat-paginator>
    </footer>
  </dbs-table-container>
</dbs-page-container>